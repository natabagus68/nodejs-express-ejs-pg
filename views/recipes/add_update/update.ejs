<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Dancing+Script&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="../../../public/recipes/form.css">
    <link rel="stylesheet" href="../../../public/chefs/navbar/navbar.css" />
    <title>Document</title>
  </head>
  <body>
    <nav class="navbar navbar-light bg-primary">
      <div class="container-fluid">
        <a class="navbar-icon" href="/">Partner Chefs</a>
      </div>
    </nav>

    <div class="container" >
      <h1 class="mt-5 mb-5">Edit Your Recipe</h1>
      <div class="forms w-50">
        <form action="/recipes/<%= recipe.id %>/edit" method="post">
          <div class="mb-3">
            <label for="Name" class="form-label">Name:</label>
            <input type="text" name="name" value="<%= recipe.name %>" class="form-control" id="Name" />
            <% if(msg.name) { %>
                <div class="alert alert-danger mt-3" role="alert">
                  <%= msg.name %> 
                </div>
              <% } %>  
          </div>
          <div class="mb-3 w-25">
            <label for="Duration" class="form-label">Duration</label>
            <div class="span d-flex justify-content-between">
                <input type="number" min="0" name="duration" value="<%= recipe.duration %>" class="form-control" id="Duration" style="width: 100px ;"/>
                <div style="margin-left: 10px ;">
                    <p>Minutes</p>
                </div>
            </div>
            <% if(msg.duration) { %>
                <div class="alert alert-danger mt-3" role="alert">
                  <%= msg.duration %> 
                </div>
              <% } %> 
          </div>
          <div class="mb-3">
            <label for="category" class="form-label">Category:</label>
            <select name="category" class="form-select" id="category">
                <% [ "Breakfast", "Lunch", "Dinner", "Other"].forEach( e => { %>
                    <option value="<%= e %> " <%= e === recipe.category? 'selected': ''%> ><%= e %> </option>
               <% }) %>
            </select>
            <% if(msg.category) { %>
                <div class="alert alert-danger mt-3" role="alert">
                  <%= msg.category %> 
                </div>
              <% } %>  
          </div>
          <div class="mb-3">
            <label class="form-label">notes:</label>
            <textarea type="text" class="form-control" name="notes" rows="10" cols="10">
                <%= recipe.notes %> 
            </textarea>
            <% if(msg.notes) { %>
                <div class="alert alert-danger mt-3" role="alert">
                  <%= msg.notes %> 
                </div>
              <% } %>  
          </div>
          <div class="mb-3">
            <label for="img" class="form-label">image URL:</label>
            <input type="url" class="form-control" value="<%= recipe.imageUrl %>" id="img" name="imageUrl"/>
            <% if(msg.imageUrl) { %>
                <div class="alert alert-danger mt-3" role="alert">
                  <%= msg.imageUrl %> 
                </div>
              <% } %> 
          </div>
          <div class="mb-3">
            <label class="form-label">Chef:</label>
            <select name="ChefId" class="form-select">
                <% chefs.forEach( e => { %>
                    <option value="<%= e.id %>" <%= e.id == recipe.ChefId? 'selected': '' %> ><%= e.fullName %> </option>
               <% }) %>
            </select>
          </div>
          <div class="mb-5">
            <label for="date" class="form-label">Create Date:</label>
            <input type="date" class="form-control" value="<%= recipe.createdDate %>" id="date" name="createdDate"/>
          </div>
          </div>
          <button type="submit" class="btn btn-primary">Submit</button>
          <a href="/recipes" class="btn btn-danger">Cancle</a>
        </form>
      </div>
    </div>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
